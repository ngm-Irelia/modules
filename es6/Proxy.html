<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>


		<script type="text/javascript">
			var person = {
				name: "张三"
			};

			var proxy = new Proxy(person, {
				get: function(target, property) {
					if (property in target) {
						return target[property];
					} else {
						throw new ReferenceError("Property \"" + property + "\" does not exist.");
					}
				}
			});

			proxy.name; // "张三"
			//proxy.age; // 抛出一个错误


			let proto = new Proxy({}, {
				get(target, propertyKey, receiver) {
					console.log('GET ' + propertyKey);
					return target[propertyKey];
				}
			});

			let obj = {
				foo: "hahaha"
			};
			obj = Object.create(proto);
			//; // "GET foo"
			console.log(obj);


			function* gen(x) {
				try {
					var y = yield x + 2;
				} catch (e) {
					console.log(e);
				}
				return y;
			}

			var g = gen(1);
			g.next();
			//g.throw('出错了');
		</script>
	</body>
</html>
